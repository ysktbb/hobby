<!DOCTYPE html>
<html lang="ja">
<head>
<title>ラッキーパネル</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=427">
<style>
</style>
<script>
let targetObj;
let weapon;
let armor;
let shield;
let helmet;
let accessory;
let tool;
let others;
function bodyOnload() {
  changeSite();
}
function changeSite() {
 switch (document.getElementById("site").value) {
  case "1":
    weapon = 14;
    armor = 11;
    shield = 4;
    helmet = 7;
    accessory = 0;
    tool = 7;
    others = 3;
    break;
  case "2":
    weapon = 22;
    armor = 20;
    shield = 6;
    helmet = 7;
    accessory = 9;
    tool = 10;
    others = 4;
    break;
  case "3":
    weapon = 25;
    armor = 22;
    shield = 6;
    helmet = 7;
    accessory = 9;
    tool = 11;
    others = 4;
    break;
  case "4":
    weapon = 32;
    armor = 26;
    shield = 10;
    helmet = 11;
    accessory = 11;
    tool = 14;
    others = 4;
    break;
  case "5":
    weapon = 35;
    armor = 26;
    shield = 10;
    helmet = 11;
    accessory = 11;
    tool = 16;
    others = 4;
    break;
 }
}
function init() {
  let panel = document.getElementsByName("imgPanel");
  for (let i = 0; i < panel.length; i++) {
    panel[i].src = "images/0.png";
  }
}
function clickImg(obj) {
  targetObj = obj;
  let options = new Array("", "武器", "鎧", "盾", "兜", "アクセサリ", "道具", "その他");//0:"", 1:"武器", 2:"鎧", 3:"盾", 4:"兜", 5:"アクセサリ", 6:"道具", 7:"その他"
  let kinds = "";
  for (let l in options) {
    kinds += "<div style=\"width: 150px; height: 40px; border-style: solid; border-width: 0px 1px 1px 1px; border-color: #888888; font-size: 24px; padding: 0px;\" onclick=\"selectKind('" + l + "');\">" + options[l] + "</div>";
  }
  let panel = document.getElementById("selectPanel");
  panel.innerHTML = kinds;
  panel.style.display = "block";
}
function selectKind(kind) {
  let panel = document.getElementById("selectPanel");
  switch (kind) {
    case "0":
      panel.style.display = "none";
      break;
    default:
      let len = -1;
      let html = "";
      switch (kind) {
        case "1":
          len = weapon;
          break;
        case "2":
          len = armor;
          break;
        case "3":
          len = shield;
          break;
        case "4":
          len = helmet;
          break;
        case "5":
          len = accessory;
          break;
        case "6":
          len = tool;
          break;
        case "7":
          len = others;
          break;
      }
      for (let i = 0; i <= len; i++) {
        html += "<img name=\"" + kind + "-" + i + "\" title=\"" + kind + "-" + i + "\" src=\"images/" + kind + "-" + i + ".png\" style=\"width: 50px; height: 50px;\" onclick=\"selectImg('" + kind + "-" + i + ".png');\">"
      }
      panel.style.left = "7px";
      panel.innerHTML = html;
      break;
  }
}
function selectImg(png) {
  targetObj.src = "images/" + png
  document.getElementById("selectPanel").style.display = "none";
}
</script>
</head>
<body style="margin: 0px;" onload="bodyOnload();">
<select id="site" onchange="changeSite();">
  <option value="1">旅の宿(過去)</option>
  <option value="2" selected>旅の宿(現代)</option>
  <option value="3">コスタール1階</option>
  <option value="4">コスタール2階</option>
  <option value="5">移民の町</option>
</select>
<br>
<table style="border: 1px solid #AAAAAA;">
  <tr>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
  </tr>
  <tr>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
  </tr>
  <tr>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
  </tr>
  <tr>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
    <td style="width: 90px; height: 90px; padding: 0px; text-align: center;">
      <img name="imgPanel" title="imgPanel" src="images/0.png" onclick="clickImg(this);">
    </td>
  </tr>
</table>
<input type="button" value="初期化" onclick="init();">
<div id="selectPanel" style="display: none; position: absolute; top: 31px; left: 6px; background-color: #FFFFFF; border-top: solid 1px #888888;">
</div>
</body>
</html>
